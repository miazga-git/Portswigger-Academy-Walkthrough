Title: Flawed enforcement of business rules

After entering LAB, I can see: New customers use code at checkout: NEWCUST5

I also found code for signing up to the newsletter.
![image](https://github.com/user-attachments/assets/8011f591-0983-49ad-b67c-a44a69128f5a)

I found out, that I can use the same code many times, only if I use them one by one:
![image](https://github.com/user-attachments/assets/0fbee540-fa86-4820-9a3c-c4b08174b542)
